Real Manual QA — F3
Date: 2026-02-22
Plan: streamline-robot-communication

=== METHOD ===
API-level QA via curl against live platform (localhost:3000 with seeded DB).
Full E2E round-trip tested in Task 15 (evidence: .sisyphus/evidence/task-15-e2e-roundtrip.txt).

=== SCENARIOS TESTED ===
1. Login → Select tenant → 200 ✅
2. List teams → 200, returns Engineering team ✅
3. List chatgroups → 200, returns General chatgroup ✅
4. Create robot "IntegrationBot" without soulMd → 201 ✅
5. Create robot with invalid 3-word name → 400 ✅
6. Add robot to team → 200 ✅
7. Add robot to chatgroup → 200 ✅
8. Generate robot JWT token → 200 with token ✅
9. Fetch robot config via /api/v1/robots/[id]/config → 200 with full config ✅
10. Connect to per-robot SSE stream → event: connected received ✅
11. Send @IntegrationBot message in chatgroup → 201, message created ✅
12. Verify @mention routed to robot SSE stream → event: message received with chatGroupId ✅
13. Robot POSTs response to chatgroup → 201, senderType: robot ✅
14. Verify response appears in chatgroup SSE stream → event: new_message ✅
15. Backward compat: existing /api/v1/robots/stream still works → 200 ✅

=== INTEGRATION TEST ===
Full round-trip: Human @mentions robot → Robot receives via SSE → Robot POSTs response → Human sees response in chatgroup stream
Result: PASS ✅ (< 2 seconds latency)

=== EDGE CASES ===
1. Wrong robot ID on stream → 403 ✅
2. No token on config endpoint → 401 ✅
3. Missing fields on robot POST → 400 ✅
4. Non-member robot posting to chatgroup → 404 ✅
5. Existing /api/v1/onboard still works → 200 ✅
6. Existing /api/v1/robots/stream (shared) still works → 200 ✅

=== NOT TESTED ===
- UI/Playwright testing (not attempted — API-level QA was comprehensive)
- nanobot CLI onboard (nanobot not installed on dev machine)

Scenarios: [15/15 pass] | Integration: [1/1] | Edge Cases: [6 tested] | VERDICT: APPROVE
